# 文件上传接口文档

## 📌 上传文件接口：`uploadkb`

用于上传用户文件至知识库或对话框，并存储相关元信息。

### 请求方式：

`POST`

### 接口地址：

`/fileanagement/uploadkb`

### 请求参数：

**表单上传（`multipart/form-data`）**，包含一个或多个文件字段及用户身份 Token。

#### 📎 文件字段：

| 字段名 | 类型 | 是否必填 | 说明               |
| ------ | ---- | -------- | ------------------ |
| file   | File | 是       | 仅支持 PDF 和 DOCX |

#### 🔐 Header 头部参数：

| 参数名 | 类型   | 是否必填 | 说明             |
| ------ | ------ | -------- | ---------------- |
| token  | string | 是       | 用户登录的 Token |

### 限制说明：

- 文件格式限制：仅允许上传 `.pdf` 和 `.docx` 文件
- 最大文件大小：**5MB**
- 最大文件数量：**3 个**

### 文件保存信息结构（入库字段）：

| 字段名     | 类型   | 是否必填 | 说明                                     |
| ---------- | ------ | -------- | ---------------------------------------- |
| userId     | string | 是       | 用户 ID，关联用户表                      |
| fileName   | string | 是       | 原文件名                                 |
| filePath   | string | 是       | 上传后服务器保存路径                     |
| fileType   | string | 是       | 文件 MIME 类型，如 `application/pdf`     |
| fileSize   | string | 是       | 文件大小（字符串格式，如 "1.2MB"）       |
| fileText   | string | 是       | 提取的文件全文本                         |
| uploadType | string | 是       | 上传类型，`UD`=对话文件，`UB`=知识库文件 |

### 请求示例：

使用 Postman 或前端通过 `FormData` 上传文件，同时在 Header 中带上 `token`：

```http
POST /fileanagement/uploadkb
Authorization: Bearer <token>
Content-Type: multipart/form-data
```
