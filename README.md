## 项目介绍

本项目是一个基于 NestJS 的 **AI 医疗 RAG（Retrieval-Augmented Generation）服务端**，提供用户注册登录、聊天会话管理、知识库文件管理等能力，并通过阿里云通义千问与向量数据库实现智能问答与对话。

主要用途：
- **AI医疗智能体后端**
- 支持会话上下文、知识库检索、对话记录持久化与缓存



## 技术栈

- **后端框架**：`NestJS`（TypeScript）
- **语言**：TypeScript（Node.js）
- **数据库**
  - `MongoDB` + `mongoose`：存储用户、聊天、文件等业务数据
- **缓存与消息**
  - `Redis`：对话缓存、终止输出等
- **AI / RAG 相关**
  - 阿里云 **通义千问** 兼容 OpenAI 接口（chat completions）
  - 阿里云 **DashScope MCP WebSearch**（联网搜索工具）
  - 向量数据库 **Milvus**

## 功能概览

- **用户管理**
  - 用户注册（手机号 + 密码，密码加盐哈希存储）
  - 用户登录，返回 JWT Token 作为后续请求的身份标识
- **聊天与会话管理**
  - 创建新的聊天会话、发送消息
  - 获取会话列表、单个会话的对话记录
  - 删除会话
  - 使用 **MongoDB** 持久化对话数据，使用 **Redis** 做对话缓存（减少数据库压力）
- **文件 / 知识库管理**
  - 上传文件到服务器（如医疗知识文档）
  - 记录文件元信息，关联用户
  - 支持列出、删除等操作
- **RAG 与大模型接入**
  - 通过 HTTP 调用阿里云通义千问兼容 OpenAI 的接口
  - 接入向量数据库（如 Milvus），可结合上传文件构建知识库实现 RAG 检索
  - 集成阿里云 WebSearch MCP，实现联网搜索工具






